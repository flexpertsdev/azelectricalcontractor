<path>src/components/sections/Testimonials.astro</path>
<content>
---
import IconQuote from '@components/icons/IconQuote.astro';
import IconGoogle from '@components/icons/IconGoogle.astro';
import Button from '@components/ui/Button.astro';

/**
 * Defines the structure for a single testimonial.
 */
export interface Testimonial {
  quote: string;
  author: string;
}

/**
 * Defines the props for the Testimonials component.
 */
export interface Props {
  headline: string;
  subheadline?: string;
  testimonials: Testimonial[];
  // While the Google Reviews component isn't built yet, this prop anticipates its need.
  // For now, a static placeholder card will be rendered.
  embed_component?: 'GoogleReviewsFeed';
}

const { headline, subheadline, testimonials = [] } = Astro.props;
---

<!--
  This section builds trust and provides social proof by showcasing customer testimonials.
  - It uses a light background (bg-neutral-50) to alternate with darker sections.
  - Testimonials are displayed in individual cards for clear separation and readability.
  - The layout includes a placeholder for a future Google Reviews feed, as specified
    in the site plan, currently implemented as a static CTA card.
-->
<section class="bg-neutral-50 py-16 sm:py-20 lg:py-24">
  <div class="container">
    <!-- Section Header -->
    <div class="mx-auto max-w-3xl text-center">
      <h2 class="font-heading text-3xl font-bold tracking-tight text-neutral-800 sm:text-4xl">
        {headline}
      </h2>
      {subheadline && (
        <p class="mt-6 text-lg leading-8 text-neutral-600">
          {subheadline}
        </p>
      )}
    </div>

    <!-- Testimonials Grid -->
    <div class="mx-auto mt-16 grid max-w-2xl grid-cols-1 gap-8 sm:mt-20 lg:mx-0 lg:max-w-none lg:grid-cols-3">
      {testimonials.map((testimonial) => (
        <figure class="flex h-full flex-col justify-between rounded-xl bg-white p-8 shadow-lg ring-1 ring-neutral-900/5">
          <blockquote class="text-neutral-600">
            <IconQuote class="h-8 w-8 text-neutral-200" aria-hidden="true" />
            <p class="mt-4 text-lg leading-8">
              "{testimonial.quote}"
            </p>
          </blockquote>
          <figcaption class="mt-8 border-t border-neutral-100 pt-6">
            <div class="text-base">
              <div class="font-semibold text-neutral-800">{testimonial.author}</div>
            </div>
          </figcaption>
        </figure>
      ))}

      <!-- Placeholder for Google Reviews Feed -->
      <div class="flex flex-col items-center justify-center rounded-xl border-2 border-dashed border-neutral-300 bg-neutral-100 p-8 text-center">
        <IconGoogle class="h-12 w-12 text-neutral-400" />
        <h3 class="mt-4 text-lg font-semibold text-neutral-800">
          Real Reviews from Real Customers
        </h3>
        <p class="mt-2 text-sm text-neutral-600">
          We're proud of our 5-star rating. See what more of our customers have to say on Google.
        </p>
        <Button 
          href="https://www.google.com/maps/search/?api=1&query=Westgate+Enterprises+LLC+Glendale+AZ" 
          target="_blank" 
          rel="noopener noreferrer"
          variant="outline" 
          size="sm"
          class="mt-6"
        >
          Read Google Reviews
        </Button>
      </div>
    </div>
  </div>
</section>
</content>